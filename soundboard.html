<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <title>D&D&D | Soundboard</title>
    <meta charset="utf-8">
    <meta name="description" content="Soundboard">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css-styles/styles.css">
    <link rel="stylesheet" href="css-styles/soundboard.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
    <link rel="icon" type="image/png" href="photos/favicon.png" />
    <link rel="stylesheet" href="styles.css">
</head>
    <body style="position: relative; min-height: 100%; top: 0px;" onload="nameChanger(), stopper()">
        <header>
            <div class="audio-src">
                <audio id="gnome_sound_effect">
                    <source src="soundboard/gnome_sound_effect.mp3" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>
                <audio id="cave_sound_effect">
                    <source src="soundboard/Cave5.ogg" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>
                <audio id="villager_idle_sound_effect">
                    <source src="soundboard/Villager_idle1.ogg" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>
                <audio id="villager_hurt_sound_effect">
                    <source src="soundboard/Villager_hurt1.ogg" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>
                <audio id="villager_trade_sound_effect">
                    <source src="soundboard/Villager_trade1.ogg" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>
                <audio id="villager_deny_sound_effect">
                    <source src="soundboard/Villager_deny1.ogg" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>

            </div>
            <div class="title-head">
                <div class="Logo">
                    <h1><i class="fas fa-dice-d20"></i>SOUNDBOARD<i class="fas fa-dice-d20"></i></h1>
                </div>
            </div>
        </header>
        <div class="looper">
            <button id="looper_button" type="button" onclick="nameChanger()"></button>
            <button id="player" type="button" onclick="stopper()"></button>

        </div>
        <div class="sounds">

            <button onclick="playGnomeAudio()" type="button">Gnome</button>
            <button onclick="playCaveAudio()" type="button">Cave</button>
            <button onclick="playVillager_hurtAudio()" type="button">Villager_hurt</button>
            <button onclick="playVillager_idleAudio()" type="button">Villager_idle</button>
            <button onclick="playVillager_tradeAudio()" type="button">Villager_trade</button>
            <button onclick="playVillager_denyAudio()" type="button">Villager_deny</button>

        
        </div>
        
        <div class="scripts">
            <script>
                let audio;
                //stopper
                function stopper() {
                    document.getElementById('player').innerText = 'STOP (OFF)';
                    audio.pause();
                    audio.currentTime = 0;
                }
                //
                function buttonChanger() {
                    document.getElementById('player').innerText = 'STOP (ON)';
                    audio.addEventListener("ended", function () {
                        document.getElementById('player').innerText = 'STOP (OFF)';
                    });
                }
                //looper
                    let isLooped = true;
                    function nameChanger() {
                        if (isLooped == false) {
                        document.querySelector('#looper_button').innerText = 'LOOP:ON';
                            isLooped = true;
                        }
                        else {
                        document.querySelector('#looper_button').innerText = 'LOOP:OFF';
                            isLooped = false;
                        }
                    }
                //audio play
                function playGnomeAudio() { 
                  audio = document.getElementById("gnome_sound_effect");
                    if (isLooped == true) {
                        document.getElementById('player').innerText = 'STOP (ON)';
                        audio.play();
                        document.getElementById('gnome_sound_effect').addEventListener('ended', function () {
                            if (isLooped == true) {
                                audio.play();
                            }
                        }, false);
                    }
                    else {
                        buttonChanger();
                        audio.play();
                    }
                }
                function playCaveAudio() { 
                  audio = document.getElementById("cave_sound_effect"); 
                    //
                    if (isLooped == true) {
                        document.getElementById('player').innerText = 'STOP (ON)';
                        audio.play();
                        document.getElementById('cave_sound_effect').addEventListener('ended', function () {
                            if (isLooped == true) {
                                audio.play();
                            }
                        }, false);
                    }
                    else {
                        buttonChanger();
                        audio.play();
                    }
                    //
                }
                function playVillager_hurtAudio() { 
                    audio = document.getElementById("villager_hurt_sound_effect");
                    //
                    if (isLooped == true) {
                        document.getElementById('player').innerText = 'STOP (ON)';
                        audio.play();
                        document.getElementById('villager_hurt_sound_effect').addEventListener('ended', function () {
                            if (isLooped == true) {
                                audio.play();
                            }
                        }, false);
                    }
                    else {
                        buttonChanger();
                        audio.play();
                    }
                    //
                }
                function playVillager_idleAudio() { 
                  audio = document.getElementById("villager_idle_sound_effect"); 
                    //
                    if (isLooped == true) {
                        document.getElementById('player').innerText = 'STOP (ON)';
                        audio.play();
                        document.getElementById('villager_idle_sound_effect').addEventListener('ended', function () {
                            if (isLooped == true) {
                                audio.play();
                            }
                        }, false);
                    }
                    else {
                        buttonChanger();
                        audio.play();
                    }
                    //
                }
                function playVillager_tradeAudio() { 
                  audio = document.getElementById("villager_trade_sound_effect"); 
                    //
                    if (isLooped == true) {
                        document.getElementById('player').innerText = 'STOP (ON)';
                        audio.play();
                        document.getElementById('villager_trade_sound_effect').addEventListener('ended', function () {
                            if (isLooped == true) {
                                audio.play();
                            }
                        }, false);
                    }
                    else {
                        buttonChanger();
                        audio.play();
                    }
                    //
                }
                function playVillager_denyAudio() { 
                  audio = document.getElementById("villager_deny_sound_effect"); 
                    //
                    if (isLooped == true) {
                        document.getElementById('player').innerText = 'STOP (ON)';
                        audio.play();
                        document.getElementById('villager_deny_sound_effect').addEventListener('ended', function () {
                            if (isLooped == true) {
                                audio.play();
                            }
                        }, false);
                    }
                    else {
                        buttonChanger();
                        audio.play();
                    }
                    //
                }

            </script>

        </div>
    </body>
</html>
